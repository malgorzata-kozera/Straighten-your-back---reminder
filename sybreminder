from tkinter import *
from pydub import AudioSegment
from pydub.playback import play
import time
import threading


class PlayVoice:

    def __init__(self, master):

        self.start_button = Button(master, text='Start', command=self.start_voice)
        self.start_button.grid(rowspan=1, columnspan=2)

        self.stop_button = Button(master, text='Stop', command=self.stop_voice)

        self.stop_button.grid(rowspan=2, columnspan=3)

        self.quite_button = Button(master,text='Quite', command=self.close_app)
        self.quite_button.grid(rowspan=3, columnspan=5)

        self.playing = True


    def start_voice(self):
            self.playing=True
            self.play_voice()

    def play_voice(self):
        def run():
            self.sound = AudioSegment.from_file("voice.m4a")
            while (self.playing == True):
                play(self.sound)  # play sound
                time.sleep(10)

                if self.playing == False:
                    break

        thread = threading.Thread(target=run)
        thread.start()


    def stop_voice(self):
        self.playing=False

    def close_app(self):
        sys.exit()


reminder_window = Tk()
reminder_window.title("Straighten Your Back Reminder")

reminder_window.geometry("500x500")
reminder_window.configure(background='gray')


PlayVoice(reminder_window)


reminder_window.mainloop()



